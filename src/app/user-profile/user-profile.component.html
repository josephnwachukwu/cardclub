<section class="section main-container" *ngIf="authService.user | async as user">
    <div class="columns is-centered">
        <div class="column is-6">
            <div class="box has-text-centered">
                <h2 class="is-size-3">My Profile</h2>
                <p>
                    <a (click)="viewPublicProfile(user)">View Public Profile</a>
                </p>
                <hr>
                <p>Add and update all your informatoon here and share yourself with as many people as you want</p>
                <hr>
                <div class="tabs is-toggle is-toggle-rounded">
                    <ul>
                      <li [class.is-active]="activeTab === 'info'" (click)="activeTab = 'info'">
                        <a>
                          <span class="icon is-small"><i class="fas fa-image"></i></span>
                          <span>Info</span>
                        </a>
                      </li>
                      <li [class.is-active]="activeTab === 'social'" (click)="activeTab = 'social'">
                        <a>
                          <span class="icon is-small"><i class="fas fa-film"></i></span>
                          <span>Social</span>
                        </a>
                      </li>
                      <li [class.is-active]="activeTab === 'docs'" (click)="activeTab = 'docs'">
                        <a>
                          <span class="icon is-small"><i class="fas fa-file-alt"></i></span>
                          <span>Docs</span>
                        </a>
                      </li>
                    </ul>
                  </div>
            </div>
            
            <div class="box" *ngIf="activeTab === 'info'">
                <h2 class="is-size-3">General Information</h2>
                <p>Add all your Social Media Links.</p>
                
                <hr>
                    <div class="field">
                        <label class="label">First Name</label>
                        <div class="control">
                          <input class="input" type="text" name="firsName" [(ngModel)]="user.firstName" placeholder="Joey">
                        </div>
                      </div>
                      <div class="field">
                        <label class="label">Last Name</label>
                        <div class="control">
                          <input class="input" type="text" name="lastName" [(ngModel)]="user.lastName" placeholder="Stark">
                        </div>
                      </div>
                      <div class="field">
                        <label class="label">Email</label>
                        <div class="control">
                          <input class="input" type="email" name="email" disabled [(ngModel)]="user.email" placeholder="Joey.Stark@gmail.com">
                        </div>
                      </div>

                      <div class="field">
                        <label class="label">Password</label>
                        <div class="control">
                          <input class="input" disabled name="password" [(ngModel)]="user.password" type="password">
                        </div>
                      </div>

                      <div class="field">
                        <label class="label">My Personal Link</label>
                        <div class="control">
                          <input class="input" type="text" disabled [(ngModel)]="user.userName" name="userName" placeholder="iamJoeyStark">
                        </div>
                      </div>

                      <div class="field">
                        <label class="label">Bio</label>
                        <div class="control">
                          <textarea class="textarea" [(ngModel)]="user.bio" placeholder="put you greeting or elevator pitch here"></textarea>
                        </div>
                      </div>

                      <div class="file has-name">
                        <label class="file-label">
                          <input class="file-input" type="file" (change)="uploadProfilePic($event, user)">
                          <span class="file-cta">
                            <span class="file-icon">
                              <i class="fas fa-upload"></i>
                            </span>
                            <span class="file-label">
                                Upload a Profile Photo
                            </span>
                          </span>
                          <span class="file-name">
                            profilepic.jpg
                          </span>
                        </label>
                        <p>{{ uploadPercent | async }}</p>
                      </div>

                <hr>
                <button class="button is-fullwidth is-default" (click)="updateUser(user)">Update My Information</button>
            </div>
            <div class="box" *ngIf="activeTab === 'social'">
                <h2 class="is-size-3">Social Media</h2>
                <p>Add all your Social Media Links to share yourself with as many people as you want</p>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasFacebook">
                        Facebook
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasFacebook">
                    <label class="label">Facebook</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="facebook" [(ngModel)]="user.socialMedia.facebook" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-facebook"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasInstagram">
                        Instagram
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasInstagram">
                    <label class="label">Instagram</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="instagram" [(ngModel)]="user.socialMedia.instagram" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-instagram"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasTwitter">
                        Twitter
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasTwitter">
                    <label class="label">Twitter</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="twitter" [(ngModel)]="user.socialMedia.twitter" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-twitter"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasSnapchat">
                        Snapchat
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasSnapchat">
                    <label class="label">Snapchat</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="snapchat" [(ngModel)]="user.socialMedia.snapchat" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-snapchat"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasLinkedin">
                        Linked In
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasLinkedin">
                    <label class="label">Linked In</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="linkedin" [(ngModel)]="user.socialMedia.linkedin" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-linkedin"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasTiktok">
                        TikTok
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasTiktok">
                    <label class="label">TikTok</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="tiktok" [(ngModel)]="user.socialMedia.tiktok" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-tiktok"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasYoutube">
                        Youtube
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasYoutube">
                    <label class="label">YouTube</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="youtube" [(ngModel)]="user.socialMedia.youtube" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-youtube"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasPinterest">
                        Pinterest
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasPinterest">
                    <label class="label">Pinterest</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="pinterest" [(ngModel)]="user.socialMedia.pinterest" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-pinterest"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasTumblr">
                        Tumblr
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasTumblr">
                    <label class="label">Tumblr</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="facebook" [(ngModel)]="user.socialMedia.tumblr" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-tumblr"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasTwitch">
                        Twitch
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasTwitch">
                    <label class="label">Twitch</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="twitch" [(ngModel)]="user.socialMedia.twitch" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-twitch"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasMedium">
                        Medium
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasMedium">
                    <label class="label">Medium</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="medium" [(ngModel)]="user.socialMedia.medium" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-medium"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasSlack">
                        Slack
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasSlack">
                    <label class="label">Slack</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="slack" [(ngModel)]="user.socialMedia.slack" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-slack"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasSkype">
                        Skype
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasSkype">
                    <label class="label">Skype</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="skype" [(ngModel)]="user.socialMedia.skype" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-skype"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasWhatsapp">
                        WhatsApp
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasWhatsapp">
                    <label class="label">WhatsApp</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="whatsapp" [(ngModel)]="user.socialMedia.whatsapp" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-whatsapp"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <div class="field">
                    <div class="control">
                        <label class="checkbox">
                        <input type="checkbox" [(ngModel)]="user.socialMedia.hasGithub">
                        Github
                        </label>
                    </div>
                </div>
                <div class="field" *ngIf="user.socialMedia?.hasGithub">
                    <label class="label">GitHub</label>
                    <div class="control has-icons-left">
                        <input class="input" type="text" name="github" [(ngModel)]="user.socialMedia.github" placeholder="joeyStark">
                        <span class="icon is-left">
                            <i class="fab fa-github"></i>
                            </span>
                    </div>
                </div>
                <hr>
                <button class="button is-fullwidth is-default" (click)="updateUser(user)">Update Social Media Links</button>
            </div>
            <div class="box" *ngIf="activeTab === 'docs'">
                <h2 class="is-size-3">Resume</h2>
                <p>Create a pdf resume from one of our templates that you can share with prospective employers and clients.</p>
                <hr>
                <div class="file has-name">
                    <label class="file-label">
                      <input class="file-input" type="file" (change)="uploadResume($event, user)">
                      <span class="file-cta">
                        <span class="file-icon">
                          <i class="fas fa-upload"></i>
                        </span>
                        <span class="file-label">
                            Upload Your Resume
                        </span>
                      </span>
                      <span class="file-name">
                        resume
                      </span>
                    </label>
                    <p>{{ uploadPercent | async }}</p>
                  </div>
                <hr>
                <button class="button is-fullwidth" [disabled]="true">Coming Soon</button>
            </div>
            <div class="box" *ngIf="activeTab === 'docs'">
                <h2 class="is-size-3">Porfolio</h2>
                <p>Create a portfolio that you can share with anyone.</p>
                <hr>
                <button class="button is-fullwidth" [disabled]="true">Coming Soon</button>
            </div>
        </div>
    </div>
</section>
